<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bioconect - Inicio de Sesi칩n</title>
    <style>
        /* Estilos Generales */
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to right, #002f4b, #005c97);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        h1 {
            text-align: center;
        }

        input[type="text"], input[type="password"], textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #005c97;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background-color: #004080;
        }

        .back-button {
            margin-top: 10px;
            background-color: #ff4b4b;
        }

        .back-button:hover {
            background-color: #cc0000;
        }

        /* Barra de Notificaciones */
        .notification-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #ff9800;
            color: white;
            text-align: center;
            padding: 10px;
            display: none;
        }

        /* Contenedor */
        .container {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: none;
        }

        .login-container {
            display: block;
        }

        /* Botones */
        .area-buttons, .equipos-buttons, .marcas-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .area-buttons button, .equipos-buttons button, .marcas-buttons button {
            flex: 1 1 30%;
        }
    </style>
</head>
<body>
    <div class="notification-bar" id="notification-bar"></div><div class="notification-bar" id="notification-bar">
        <div>Barra de Notificaciones</div>
        <button onclick="mostrarNotificaciones()">游댒</button>
    </div>

    <div class="container login-container" id="login-container">
        <h1>Bioconect</h1>
        <input type="text" id="username" placeholder="Usuario">
        <input type="password" id="password" placeholder="Contrase침a">
        <button onclick="iniciarSesion()">Iniciar Sesi칩n</button>
    </div>

    <div class="container area-container" id="area-container">
        <h1>츼reas del Hospital</h1>
        <div class="area-buttons">
            <button onclick="mostrarEquipos('Emergencia')">Emergencia</button>
            <button onclick="mostrarEquipos('UCI')">UCI</button>
            <button onclick="mostrarEquipos('Ginecolog칤a')">Ginecolog칤a</button>
            <button onclick="mostrarEquipos('Di치lisis')">Di치lisis</button>
            <button onclick="mostrarEquipos('Cirugia')">Cirugia</button>
            <button onclick="mostrarEquipos('Pediatr칤a')">Pediatr칤a</button>
            <button onclick="mostrarEquipos('Cardiolog칤a')">Cardiolog칤a</button>
            <button onclick="mostrarEquipos('Oncolog칤a')">Oncolog칤a</button>
            <button onclick="mostrarEquipos('Radiolog칤a')">Radiolog칤a</button>
            <button onclick="mostrarEquipos('Laboratorio Clinico')">Laboratorio Clinico</button>
        </div>
        <button class="back-button" onclick="volver('login-container')">Regresar</button>
    </div>

    <div class="container equipos-container" id="equipos-container">
        <h1 id="equipos-titulo"></h1>
        <div class="equipos-buttons">
            <button onclick="mostrarMarcas('Monitor de signos vitales')">Monitor de signos vitales</button>
            <button onclick="mostrarMarcas('Desfibrilador')">Desfibrilador</button>
            <button onclick="mostrarMarcas('Ventilador Mecanico')">Ventilador Mecanico</button>
            <button onclick="mostrarMarcas('Bombas de infusion')">Bombas de infusion</button>
            <button onclick="mostrarMarcas('Glucometro')">Gluc칩metro</button>
            <button onclick="agregarEquipo()">Agregar Equipo</button>
        </div>
        <button class="back-button" onclick="volver('area-container')">Regresar</button>
    </div>

    <div class="container detalles-container" id="detalles-container">
        <h1 id="detalles-titulo"></h1>
        <div class="marcas-buttons">
            <button onclick="mostrarDetalles('Mindray', '2020')">Mindray- 2020</button>
            <button onclick="mostrarDetalles('Wekch Allyn', '2021')">Wekch Allyn - 2021</button>
            <button onclick="mostrarDetalles('Philips', '2022')">Philips- 2022</button>
        </div>
        <div id="detalles-info" style="margin-top: 20px;"></div>
        <button class="back-button" onclick="volver('equipos-container')">Regresar</button>
    </div>

    <script>
        let authenticated = false;
        let currentUser = null;
        let equipos = ['Monitor de signos vitales', 'Desfibrilador', 'Ventilador Mec치nico', 'Bombas de infusi칩n', 'Gluc칩metro'];

        // Credenciales permitidas
        const usuariosPermitidos = {
            'usuario1': 'password1',
            'usuario2': 'password2',
        };

        function iniciarSesion() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (usuariosPermitidos[username] && usuariosPermitidos[username] === password) {
                authenticated = true;
                currentUser = username;
                manejarRedireccion();
                mostrarSeccion('login-container', 'area-container'); // Mostrar la siguiente secci칩n
            } else {
                alert('Usuario o contrase침a incorrectos');
            }
        }

        function manejarRedireccion() {
            const path = window.location.pathname.split('/');
            if (authenticated) {
                if (path[1] === 'areas') {
                    if (path.length === 2) {
                        mostrarSeccion('login-container', 'area-container');
                    } else if (path.length === 3) {
                        document.getElementById('equipos-titulo').textContent = path[2].charAt(0).toUpperCase() + path[2].slice(1);
                        mostrarSeccion('area-container', 'equipos-container');
                    } else if (path.length === 4) {
                        document.getElementById('equipos-titulo').textContent = path[2].charAt(0).toUpperCase() + path[2].slice(1);
                        document.getElementById('detalles-titulo').textContent = path[3].charAt(0).toUpperCase() + path[3].slice(1);
                        mostrarSeccion('equipos-container', 'detalles-container');
                    }
                } else {
                    mostrarSeccion('login-container', 'area-container');
                }
            } else {
                mostrarSeccion('login-container', 'login-container');
            }
        }

        function mostrarEquipos(area) {
            document.getElementById('equipos-titulo').textContent = area;
            mostrarSeccion('area-container', 'equipos-container');
            history.pushState({ page: 'equipos', area: area }, 'Equipos', '/areas/' + area.toLowerCase());
        }

        function mostrarMarcas(equipo) {
            document.getElementById('detalles-titulo').textContent = equipo;
            mostrarSeccion('equipos-container', 'detalles-container');
            history.pushState({ page: 'detalles', equipo: equipo }, 'Detalles', '/areas/' + document.getElementById('equipos-titulo').textContent.toLowerCase() + '/' + equipo.toLowerCase());
        }

        function mostrarDetalles(marca, a침o) {
            const detallesInfo = `
                <h2>${marca} - ${a침o}</h2>
                <p>Marca: ${marca}</p>
                <p>A침o de Ingreso: ${a침o}</p>
                <p>N칰mero de Serie: XXXXXX</p>
                <label>Foto del Equipo:</label><br>
                <input type="file" accept="image/*"><br>
                <label>Comentarios:</label><br>
                <textarea rows="4" id="comentario" placeholder="Ingrese sus comentarios aqu칤"></textarea>
                <button onclick="enviarComentario('${marca}', '${a침o}')">Enviar Comentario</button>
            `;
            document.getElementById('detalles-info').innerHTML = detallesInfo;
        }
        function agregarEquipo() {
    const nuevoEquipo = prompt("Ingrese el nombre del nuevo equipo:");
    if (nuevoEquipo) {
        equipos.push(nuevoEquipo);
        mostrarEquiposActuales();
    }
}

function mostrarEquiposActuales() {
    const equiposContainer = document.getElementById('equipos-buttons');
    equiposContainer.innerHTML = ''; // Limpiar contenido actual
    equipos.forEach(equipo => {
        const button = document.createElement('button');
        button.textContent = equipo;
        button.onclick = function() {
            mostrarMarcas(equipo);
        };
        equiposContainer.appendChild(button);
    });
}

function mostrarBotonAgregarEquipos() {
    const botonAgregar = document.createElement('button');
    botonAgregar.textContent = 'Agregar M치s';
    botonAgregar.onclick = agregarEquipo;
    document.getElementById('equipos-container').appendChild(botonAgregar);
}

        function enviarComentario(marca, a침o) {
            const comentario = document.getElementById('comentario').value;
            if (!comentario) {
                alert('Por favor, ingrese un comentario.');
                return;
            }
            
            // Simulaci칩n de env칤o de comentario y notificaci칩n
            console.log(`Comentario enviado: ${marca} (${a침o}) - ${comentario}`);
            alert('Comentario enviado con 칠xito.');
            
            if (currentUser === 'usuario1') {
                mostrarNotificacion(`Nuevo comentario en ${marca} (${a침o}): ${comentario}`);
            }
        }

        function mostrarNotificacion(mensaje) {
            if (currentUser === 'usuario2') {
                const notificationBar = document.getElementById('notification-bar');
                notificationBar.textContent = mensaje;
                notificationBar.style.display = 'block';
                setTimeout(() => {
                    notificationBar.style.display = 'none';
                }, 5000);
            }
        }

        function mostrarSeccion(actual, siguiente) {
            document.getElementById(actual).style.display = 'none';
            document.getElementById(siguiente).style.display = 'block';
        }

        function volver(anterior) {
            const secciones = document.querySelectorAll('.container');
            secciones.forEach(seccion => seccion.style.display = 'none');
            document.getElementById(anterior).style.display = 'block';
            history.back();
        }

        window.onpopstate = function(event) {
            if (event.state) {
                switch (event.state.page) {
                    case 'area':
                        mostrarSeccion('login-container', 'area-container');
                        break;
                    case 'equipos':
                        document.getElementById('equipos-titulo').textContent = event.state.area;
                        mostrarSeccion('area-container', 'equipos-container');
                        break;
                    case 'detalles':
                        document.getElementById('detalles-titulo').textContent = event.state.equipo;
                        mostrarSeccion('equipos-container', 'detalles-container');
                        break;
                }
            } else {
                mostrarSeccion('area-container', 'login-container');
            }
        }

        window.onload = manejarRedireccion;
    </script>
</body>
</html>
